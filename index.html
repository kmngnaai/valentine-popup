<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>Valentine Night Pink</title>

<style>
/* ================= BODY ================= */
body {
    margin: 0;
    min-height: 100vh;

    /* ðŸŒ¸ DÃ™NG CHUNG Ná»€N MOBILE */
    background-image: url("Valentines-mobile.png");
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
    background-color: #f6d6df;

    display: flex;
    justify-content: center;
    align-items: center;
    font-family: "Segoe UI", "Helvetica Neue", Arial, sans-serif;
    overflow: hidden;
}

/* Overlay Ä‘Ãªm nháº¹ */
body::before {
    content: "";
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,0.22);
    z-index: 0;
}

/* ================= STICKER ================= */
.sticker-bg {
    position: fixed;
    z-index: 1;
    pointer-events: none;

    opacity: 0;
    animation: breathe 8s ease-in-out infinite;
    will-change: opacity;
}

@keyframes breathe {
    0%   { opacity: 0; }
    25%  { opacity: 0.45; }
    50%  { opacity: 0.15; }
    75%  { opacity: 0.45; }
    100% { opacity: 0; }
}

/* ================= POPUP ================= */
.pink-box {
    position: relative;
    z-index: 2;

    width: 420px;
    max-width: calc(100vw - 48px);

    background: #fff7fb;
    border-radius: 26px;
    border: 3px solid #e5a3c2;

    padding: 26px 28px 30px;

    box-shadow:
        0 0 0 6px rgba(255,255,255,0.35),
        0 28px 60px rgba(0,0,0,0.45);

    text-align: center;
    animation: fadeZoomIn 0.5s ease;
}

.heart {
    font-size: 46px;
    margin-bottom: 10px;
    animation: heartbeat 2.2s infinite;
}

.text {
    font-size: 23px;
    font-weight: 600;
    line-height: 1.45;
    min-height: 72px;
    color: #7a1f47;
    padding: 0 6px;
}

.cursor {
    margin-left: 4px;
    color: #d63384;
    font-size: 22px;
    animation: blink 1.2s infinite;
}

.btn {
    margin-top: 26px;
    padding: 12px 52px;
    font-size: 17px;
    background: #f2b6d8;
    border: none;
    border-radius: 12px;
    cursor: pointer;
    color: #4d0f2d;
}

.btn:active {
    transform: scale(0.96);
}

.hidden { display: none; }

/* ================= ANIM ================= */
@keyframes blink { 50% { opacity: 0; } }
@keyframes heartbeat { 30% { transform: scale(1.12); } }
@keyframes fadeZoomIn {
    from { opacity:0; transform:scale(0.88); }
    to { opacity:1; transform:scale(1); }
}

/* ================= MOBILE ================= */
@media (max-width:480px) {
    .pink-box {
        width: calc(100vw - 32px);
        padding: 24px 22px 28px;
    }

    .text {
        font-size: 21px;
        min-height: 78px;
    }

    .btn {
        padding: 12px 48px;
    }
}
</style>
</head>

<body>

<!-- POPUP 1 -->
<div id="popup1" class="pink-box">
    <div class="heart">ðŸ’—</div>
    <div id="text1" class="text"></div>
    <button class="btn" onclick="nextPopup()">ok</button>
</div>

<!-- POPUP 2 -->
<div id="popup2" class="pink-box hidden">
    <div class="heart">ðŸ’“</div>
    <div id="text2" class="text"></div>
    <button class="btn" onclick="closePopup()">ok</button>
</div>

<script>
/* ================= TEXT ================= */
const message1 = "BÃ© Keii Æ¡ii, bÃ© Keii cÃ³ biáº¿t hÃ´ngg??";
const message2 = "Em yÃªu chá»‹ nhiá»u láº¯m luÃ´n Ã¡!";

function typeText(id, text, speed = 70) {
    const el = document.getElementById(id);
    el.innerHTML = "";
    let i = 0;

    const cursor = document.createElement("span");
    cursor.className = "cursor";
    cursor.textContent = "â™¥";
    el.appendChild(cursor);

    const timer = setInterval(() => {
        cursor.remove();
        el.textContent += text[i];
        el.appendChild(cursor);
        i++;
        if (i >= text.length) clearInterval(timer);
    }, speed);
}

/* ================= STICKER ================= */
const TOTAL = 47;
const COLS = 8;
const ROWS = 7;

function rand(min,max){ return Math.random()*(max-min)+min; }

function renderStickers() {
    let i = 1;
    for(let r=0;r<ROWS;r++){
        for(let c=0;c<COLS;c++){
            if(i > TOTAL) return;

            const img = new Image();
            img.src = `stickers/${String(i).padStart(2,"0")}.png`;
            img.className = "sticker-bg";

            img.onload = () => {
                const cw = innerWidth / COLS;
                const ch = innerHeight / ROWS;

                img.style.width = rand(48,78) + "px";
                img.style.left = c*cw + rand(12,cw-78) + "px";
                img.style.top  = r*ch + rand(12,ch-78) + "px";

                img.style.animationDelay = rand(0,1.4) + "s";
                document.body.appendChild(img);
            };
            i++;
        }
    }
}

/* ================= FLOW ================= */
window.onload = () => {
    renderStickers();
    typeText("text1", message1);
};

function nextPopup(){
    popup1.classList.add("hidden");
    popup2.classList.remove("hidden");
    typeText("text2", message2);
}

function closePopup(){
    popup2.classList.add("hidden");
}
</script>

</body>
</html>
