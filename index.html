<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>Valentine's For Keiii</title>

<style>
body{
    margin:0;
    min-height:100vh;
    background:url("valentines-mobile.png") center/cover no-repeat #f6d6df;
    display:flex;
    justify-content:center;
    align-items:center;
    font-family:"Segoe UI","Helvetica Neue",Arial,sans-serif;
    overflow:hidden;
}

/* overlay nh·∫π */
body::before{
    content:"";
    position:fixed;
    inset:0;
    background:rgba(0,0,0,.22);
    z-index:0;
}

/* ================= STICKER ================= */
.sticker{
    position:fixed;
    pointer-events:auto;
    z-index:1;
    opacity:0;
    animation:life 2.4s ease-in-out forwards;
}

/* 0.6s in ‚Äì 1.2s gi·ªØ ‚Äì 0.6s out */
@keyframes life{
    0%{opacity:0; transform:scale(.85);}
    25%{opacity:.95; transform:scale(1);}
    75%{opacity:.95;}
    100%{opacity:0; transform:scale(.9);}
}

/* Panda glow */
.panda{
    animation:
        life 2.4s ease-in-out forwards,
        pandaGlow 2.2s ease-in-out infinite alternate;
}

@keyframes pandaGlow{
    from{filter:drop-shadow(0 0 6px rgba(255,255,255,0.6));}
    to{filter:drop-shadow(0 0 16px rgba(255,192,203,1));}
}

.panda:active{
    transform:scale(0.75);
    transition:transform .15s ease;
}

/* ================= POPUP ================= */
.pink-box{
    position:relative;
    z-index:2;
    width:min(92vw,460px);
    padding:30px 26px 34px;
    background:linear-gradient(180deg,#fff9fc,#fff2f7);
    border-radius:26px;
    border:2px solid #f0b7d3;
    box-shadow:
        0 14px 36px rgba(0,0,0,.28),
        0 0 0 6px rgba(255,255,255,.45);
    text-align:center;
}

.heart{
    font-size:46px;
    margin-bottom:10px;
    animation:beat 2.2s infinite;
}

.text{
    font-size:22px;
    font-weight:600;
    line-height:1.45;
    color:#7a1f47;
    min-height:72px;
}

.cursor{
    margin-left:4px;
    color:#d63384;
    animation:blink 1.2s infinite;
}

.btn{
    margin-top:22px;
    padding:10px 48px;
    font-size:17px;
    background:linear-gradient(180deg,#f7c4de,#f2aecd);
    border:none;
    border-radius:999px;
    cursor:pointer;
    color:#4d0f2d;
}

.hidden{display:none}

@keyframes blink{50%{opacity:0}}
@keyframes beat{30%{transform:scale(1.1)}}

/* ================= ENVELOPE ================= */

#envelope{
    position:fixed;
    top:-200px;
    left:50%;
    transform:translateX(-50%);
    width:160px;
    cursor:pointer;
    z-index:5;
    transition:transform .3s ease;
}

.drop{
    animation:dropDown .8s ease forwards;
}

@keyframes dropDown{
    to{ top:40%; }
}

/* ================= LETTER ================= */

#letter{
    position:fixed;
    inset:0;
    background:url("ThuNen.png") center/cover no-repeat;
    display:flex;
    justify-content:center;
    align-items:center;
    z-index:4;
    opacity:0;
    pointer-events:none;
    transition:opacity .6s ease;
}

#letterContent{
    max-width:650px;
    padding:40px;
    background:rgba(255,255,255,.9);
    border-radius:18px;
    box-shadow:0 20px 50px rgba(0,0,0,.4);
    line-height:1.6;
    font-size:18px;
}

.showLetter{
    opacity:1 !important;
    pointer-events:auto !important;
}

/* n·ªÅn tim ƒë·∫≠p ch·∫≠m */
#letter::before{
    content:"üíó";
    position:absolute;
    font-size:200px;
    opacity:.08;
    animation:slowBeat 3s infinite;
}

@keyframes slowBeat{
    50%{transform:scale(1.08);}
}

.fadeDim{
    opacity:.25;
}

</style>
</head>

<body>

<div id="popup1" class="pink-box">
    <div class="heart">üíó</div>
    <div id="text1" class="text"></div>
    <button class="btn" onclick="nextPopup()">ok</button>
</div>

<div id="popup2" class="pink-box hidden">
    <div class="heart">üíì</div>
    <div id="text2" class="text"></div>
    <button class="btn" onclick="closePopup()">ok</button>
</div>

<img id="envelope" src="https://cdn-icons-png.flaticon.com/512/561/561127.png">

<div id="letter">
    <div id="letterContent"></div>
</div>

<script>
const message1="B√© Keii ∆°ii, b√© Keii c√≥ bi·∫øt h√¥ngg??";
const message2="Em y√™u ch·ªã nhi·ªÅu l·∫Øm lu√¥n √°!";

function typeText(id,text,speed=65){
    const el=document.getElementById(id);
    el.innerHTML="";
    let i=0;
    const cursor=document.createElement("span");
    cursor.className="cursor";
    cursor.textContent="‚ô•";
    el.appendChild(cursor);
    const t=setInterval(()=>{
        cursor.remove();
        el.textContent+=text[i];
        el.appendChild(cursor);
        i++;
        if(i>=text.length) clearInterval(t);
    },speed);
}

/* ================= STICKER ================= */
function rand(min,max){return Math.random()*(max-min)+min;}
function randInt(min,max){return Math.floor(rand(min,max));}

function spawnSticker(src,isPanda){
    const img=new Image();
    img.src=src;
    img.className="sticker";
    if(isPanda) img.classList.add("panda");

    img.onload=()=>{
        img.style.width=isPanda
            ? rand(65,80)+"px"
            : rand(60,75)+"px";

        img.style.left=rand(0,innerWidth-100)+"px";
        img.style.top=rand(0,innerHeight-100)+"px";

        document.body.appendChild(img);
        setTimeout(()=>img.remove(),2400);
    };
}

function spawnWave(){
    for(let i=0;i<6;i++){
        spawnSticker(`stickers/${String(randInt(1,48)).padStart(2,"0")}.png`,false);
    }
    for(let i=0;i<12;i++){
        spawnSticker(`stickers panda/${String(randInt(1,25)).padStart(2,"0")}.png`,true);
    }
}

/* ================= FLOW ================= */
window.onload=()=>{
    typeText("text1",message1);
    spawnWave();
    setInterval(spawnWave,2400);
};

function nextPopup(){
    popup1.classList.add("hidden");
    popup2.classList.remove("hidden");
    typeText("text2",message2);
}

function closePopup(){
    popup2.classList.add("hidden");

    document.getElementById("envelope").classList.add("drop");
}

/* ================= LETTER FLOW ================= */
const letterLines=[
"14.02.2026",
"Hi t√¨nh y√™u c·ªßa em,",
"T√¨nh y√™u c·ªßa em x·ª©ng ƒë√°ng c√≥ ƒë∆∞·ª£c ƒëi·ªÅu t·ªët ƒë·∫πp nh·∫•t th·∫ø gian n√†y",
"ahiihi ƒë√≥ l√† em",
"Hello c·ª•c c∆∞nggg, em ·ªü ƒë√¢y ƒë·ªÉ y√™u th∆∞∆°ng ch·ªã",
"Ch·ª•t ch·ª•t ch·ª•t th∆∞·ªüng cho c·ª•c c∆∞ng m·ªôt ngh√¨n n·ª• h√¥n",
"L√†m cho em c·∫£m nh·∫≠n ƒë∆∞·ª£c t√¨nh y√™u c·ªßa ch·ªã",
"C·∫£m nh·∫≠n ƒë∆∞·ª£c √°nh m·∫Øt ch·ªã n√≥i l√™n l√† ch·ªã y√™u em",
"Ahihiii ra l√† √°nh m·∫Øt c≈©ng n√≥i ƒë∆∞·ª£c t√¨nh y√™uuu ha",
"C·∫£m nh·∫≠n ƒë∆∞·ª£c s·ª± h·∫°nh ph√∫c m√† ng∆∞·ªùi y√™u mang ƒë·∫øn cho em",
"Con tim c≈©ng mang nhi·ªát ƒë·ªô n√†. M√¨nh √¥m nhau ƒë·ªÉ c·∫£m nh·∫≠n ha c·ª•c c∆∞ng.",
"Mu·ªën n√≥i v·ªõi ng∆∞·ªùi y√™u l√†",
"em y√™u ch·ªã, m√¨nh b√™n nhau th·∫≠t l√¢u c·ª•c c∆∞ng nha."
];

document.getElementById("envelope").addEventListener("click",()=>{
    document.getElementById("letter").classList.add("showLetter");

    const content=document.getElementById("letterContent");
    content.innerHTML="";
    let i=0;

    const interval=setInterval(()=>{
        if(i>=letterLines.length){clearInterval(interval);return;}
        const p=document.createElement("p");
        p.textContent=letterLines[i];
        p.style.opacity=0;
        p.style.transition="opacity .6s";
        content.appendChild(p);
        setTimeout(()=>p.style.opacity=1,50);
        i++;
    },1200);
});
</script>

</body>
</html>
