<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Valentine's For Keiii</title>

<style>
body{
    margin:0;
    min-height:100vh;
    background:url("valentines-mobile.png") center/cover no-repeat #f6d6df;
    display:flex;
    justify-content:center;
    align-items:center;
    font-family:"Segoe UI","Helvetica Neue",Arial,sans-serif;
    overflow:hidden;
    transition:.6s;
    touch-action: manipulation;
}

/* Overlay */
body::before{
    content:"";
    position:fixed;
    inset:0;
    background:rgba(0,0,0,.22);
    z-index:0;
}

.dark::before{
    background:rgba(0,0,0,.55);
}

/* ================= STICKER ================= */
.sticker{
    position:fixed;
    pointer-events:auto;
    z-index:1;
    opacity:0;
    animation:life 3.5s ease-in-out forwards;
    -webkit-tap-highlight-color: transparent;
    touch-action: manipulation;
}

.letter-open .sticker{
    opacity:.15 !important;
}

@keyframes life{
    0%{opacity:0; transform:scale(.9);}
    20%{opacity:.95; transform:scale(1);}
    80%{opacity:.95;}
    100%{opacity:0; transform:scale(.95);}
}

.panda{
    animation:
        life 3.5s ease-in-out forwards,
        pandaGlow 2.2s ease-in-out infinite alternate;
}

@keyframes pandaGlow{
    from{filter:drop-shadow(0 0 6px rgba(255,255,255,0.7));}
    to{filter:drop-shadow(0 0 16px rgba(255,192,203,1));}
}

.panda:active{
    transform:scale(0.85);
    transition:transform .15s ease;
}

/* ================= POPUP ================= */
.pink-box{
    position:relative;
    z-index:2;
    width:min(92vw,460px);
    padding:30px 26px 34px;
    background:linear-gradient(180deg,#fff9fc,#fff2f7);
    border-radius:26px;
    border:2px solid #f0b7d3;
    box-shadow:0 14px 36px rgba(0,0,0,.28);
    text-align:center;
}

.heart{
    font-size:46px;
    margin-bottom:10px;
    animation:beat 2.2s infinite;
}

@keyframes beat{30%{transform:scale(1.1)}}

.text{
    font-size:22px;
    font-weight:600;
    color:#7a1f47;
}

.btn{
    margin-top:22px;
    padding:10px 48px;
    font-size:17px;
    background:linear-gradient(180deg,#f7c4de,#f2aecd);
    border:none;
    border-radius:999px;
    cursor:pointer;
    color:#4d0f2d;
}

.hidden{display:none}

/* ================= LOVE TEXT ================= */
.love-text{
    position:fixed;
    font-size:26px;
    font-weight:900;
    pointer-events:none;
    z-index:4;
    animation:loveFloat 1.4s ease-out forwards;
}

@keyframes loveFloat{
    0%{opacity:0; transform:translateY(0) scale(.9);}
    25%{opacity:1;}
    100%{opacity:0; transform:translateY(-100px) scale(1.2);}
}

.flying-heart{
    position:fixed;
    pointer-events:none;
    z-index:3;
    animation:heartFly 1.6s ease-out forwards;
}

@keyframes heartFly{
    0%{opacity:1; transform:translate(0,0) scale(.8);}
    100%{opacity:0; transform:translate(var(--x),var(--y)) scale(1.8);}
}

/* ================= PHONG TH∆Ø ================= */
.envelope{
    position:fixed;
    font-size:75px;
    z-index:10;
    top:-120px;
    left:50%;
    transform:translateX(-50%);
    cursor:pointer;
    animation:drop 1.2s ease forwards;
}

@keyframes drop{
    to{ top:45%; }
}

/* ================= L√Å TH∆Ø ================= */
.letter{
    position:fixed;
    inset:0;
    background:linear-gradient(180deg,#fff8fb,#fff1f6);
    z-index:20;
    padding:80px 30px;
    overflow-y:auto;
    display:none;
}

.letter h2{
    text-align:center;
    color:#b11b5c;
    margin-bottom:40px;
}

.letter p{
    font-size:20px;
    line-height:1.8;
    margin-bottom:24px;
    opacity:0;
    transform:translateY(15px);
    animation:paragraphIn .8s ease forwards;
}

@keyframes paragraphIn{
    to{ opacity:1; transform:translateY(0); }
}

.heartbeat-bg{
    position:fixed;
    font-size:150px;
    color:rgba(255,105,180,0.08);
    left:50%;
    top:50%;
    transform:translate(-50%,-50%);
    animation:slowBeat 3s infinite;
    pointer-events:none;
    z-index:0;
}

@keyframes slowBeat{
    30%{transform:translate(-50%,-50%) scale(1.1);}
}
</style>
</head>

<body>

<div id="popup1" class="pink-box">
    <div class="heart">üíó</div>
    <div class="text">B√© Keii ∆°ii, b√© Keii c√≥ bi·∫øt h√¥ngg??</div>
    <button class="btn" onclick="nextPopup()">ok</button>
</div>

<div id="popup2" class="pink-box hidden">
    <div class="heart">üíì</div>
    <div class="text">Em y√™u ch·ªã nhi·ªÅu l·∫Øm lu√¥n √°!</div>
    <button class="btn" onclick="closePopup()">ok</button>
</div>

<div id="envelope" class="envelope hidden">üíå</div>

<div id="letter" class="letter">
    <div class="heartbeat-bg">üíó</div>
    <h2>14.02.2026</h2>
    <div id="letterContent"></div>
</div>

<script>

const loveMessages=[
"Em y√™u Ki·ªÅu","Em y√™u ch·ªã qu√≥ √≤","Em nh·ªõ Ki·ªÅu","Em nh·ªõ ch·ªã qu√≥ √≤",
"em y√™u b√© Keii","b√© Keii c·ªßa R√πa","y√™u Keii","Ki·ªÅu ∆°i, moa moaaa",
"c·ª•c c∆∞ng ∆°i, mu·ªën √¥m √¥m","√¥m √¥m","y√™u Ki·ªÅu","y√™u ch·ªã","nh·ªõ Ki·ªÅu",
"nh·ªõ ch·ªã","Umoaa umoazz","ch·ª•t ch·ª•ttt","hun hun hun","hun ch·ª•c c√°ii",
"h√≠t h√≠tt","c·ª•c c∆∞ng ngoan ngoan","em th∆∞∆°nggg Ki·ªÅuu","em mu·ªën √¥m √¥m",
"c·ª•c c∆∞ng ∆°i, mu·ªën hun hunn","c·ª•c c∆∞ng ∆°i, mu·ªën ch·ªã",
"c·ª•c c∆∞ng c·ª•c c∆∞ng em y√™u ch·ªã","c·ª•c c∆∞ng ∆°i, mu·ªën ƒÉn g√¨ d·∫°",
"c·ª•c c∆∞ng c√≥ nh·ªõ em h√¥ng d·∫°","c·ª•c c∆∞ng c√≥ y√™u em h√¥ng d·∫°",
"em y√™u ch·ªã nhi·ªÅu l·∫Øm lu√¥n √°","d·ª£ ∆°ii, em y√™u ch·ªã"
];

let lastIndex=-1;

function getRandomMessage(){
    let index;
    do{
        index=Math.floor(Math.random()*loveMessages.length);
    }while(index===lastIndex);
    lastIndex=index;
    return loveMessages[index];
}

function generateCuteColor(){
    const pastelHues=[300,310,320,330,340,350,10,20,30,260,270,280,290,40,50];
    const hue=pastelHues[Math.floor(Math.random()*pastelHues.length)];
    const saturation=70+Math.random()*8;
    const lightness=66+Math.random()*4;
    return `hsl(${hue},${saturation}%,${lightness}%)`;
}

function rand(min,max){return Math.random()*(max-min)+min;}
function randInt(min,max){return Math.floor(rand(min,max));}

function showLove(x,y){
    const div=document.createElement("div");
    div.className="love-text";
    div.textContent=getRandomMessage()+" üíó";

    const color=generateCuteColor();
    div.style.color=color;
    div.style.textShadow=`
        0 2px 6px rgba(0,0,0,0.3),
        0 0 10px rgba(255,255,255,0.8),
        0 0 18px ${color}
    `;

    div.style.left=x+"px";
    div.style.top=y+"px";

    document.body.appendChild(div);
    setTimeout(()=>div.remove(),1400);

    for(let i=0;i<4;i++){
        const h=document.createElement("div");
        h.className="flying-heart";
        h.textContent="üíó";
        h.style.fontSize=rand(24,48)+"px";
        h.style.left=x+"px";
        h.style.top=y+"px";
        h.style.setProperty("--x",rand(-140,140)+"px");
        h.style.setProperty("--y",rand(-180,-90)+"px");
        document.body.appendChild(h);
        setTimeout(()=>h.remove(),1600);
    }
}

function spawnSticker(src,isPanda){
    const img=new Image();
    img.src=src;
    img.className="sticker";
    if(isPanda) img.classList.add("panda");

    img.onload=()=>{
        img.style.width=isPanda?rand(90,110)+"px":rand(70,85)+"px";
        img.style.left=rand(0,innerWidth-120)+"px";
        img.style.top=rand(0,innerHeight-120)+"px";

        img.addEventListener("click",(e)=>{
            showLove(e.clientX,e.clientY);
        });

        document.body.appendChild(img);
        setTimeout(()=>img.remove(),3500);
    };
}

function spawnWave(){
    for(let i=0;i<8;i++){
        spawnSticker(`stickers/${String(randInt(1,48)).padStart(2,"0")}.png`,false);
    }
    for(let i=0;i<18;i++){
        spawnSticker(`stickers panda/${String(randInt(1,25)).padStart(2,"0")}.png`,true);
    }
}

setInterval(spawnWave,3500);
spawnWave();

function nextPopup(){
    popup1.classList.add("hidden");
    popup2.classList.remove("hidden");
}

function closePopup(){
    popup2.classList.add("hidden");
    document.body.classList.add("dark");
    envelope.classList.remove("hidden");
}

const letterParagraphs=[
"Hi t√¨nh y√™u c·ªßa em,",
"T√¨nh y√™u c·ªßa em x·ª©ng ƒë√°ng c√≥ ƒë∆∞·ª£c ƒëi·ªÅu t·ªët ƒë·∫πp nh·∫•t th·∫ø gian n√†y.",
"Hello c·ª•c c∆∞nggg, em ·ªü ƒë√¢y ƒë·ªÉ y√™u th∆∞∆°ng ch·ªã.",
"Ch·ª•t ch·ª•t ch·ª•t th∆∞·ªüng cho c·ª•c c∆∞ng m·ªôt ngh√¨n n·ª• h√¥n.",
"L√†m cho em c·∫£m nh·∫≠n ƒë∆∞·ª£c t√¨nh y√™u c·ªßa ch·ªã.",
"C·∫£m nh·∫≠n s·ª± y√™u th∆∞∆°ng c∆∞ng chi·ªÅu c·ªßa ch·ªã.",
"C·∫£m nh·∫≠n ƒë∆∞·ª£c s·ª± h·∫°nh ph√∫c m√† ng∆∞·ªùi y√™u mang ƒë·∫øn cho em.",
"Mu·ªën n√≥i v·ªõi ng∆∞·ªùi y√™u l√†: em y√™u ch·ªã, m√¨nh b√™n nhau th·∫≠t l√¢u nha."
];

envelope.onclick=()=>{
    envelope.remove();
    document.body.classList.add("letter-open");
    letter.style.display="block";
    letterParagraphs.forEach((text,i)=>{
        setTimeout(()=>{
            const p=document.createElement("p");
            p.textContent=text;
            letterContent.appendChild(p);
        },i*1200);
    });
};

</script>

</body>
</html>
