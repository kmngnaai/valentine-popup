<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>Valentine Night Pink</title>

<style>
body{
    margin:0;
    min-height:100vh;
    background:url("valentines-mobile.png") center/cover no-repeat #f6d6df;
    display:flex;
    justify-content:center;
    align-items:center;
    font-family:"Segoe UI","Helvetica Neue",Arial,sans-serif;
    overflow:hidden;
}

body::before{
    content:"";
    position:fixed;
    inset:0;
    background:rgba(0,0,0,.22);
    z-index:0;
}

/* ================= STICKER ================= */
.sticker{
    position:fixed;
    z-index:1;
    opacity:0;
    animation:life 6s ease-in-out forwards;
    cursor:pointer;
}

@keyframes life{
    0%{opacity:0; transform:scale(.9)}
    20%{opacity:.5; transform:scale(1)}
    70%{opacity:.5}
    100%{opacity:0; transform:scale(.95)}
}

/* ‚ú® Panda bling */
.panda{
    animation:life 6s ease-in-out forwards, sparkle 2.5s infinite;
}

@keyframes sparkle{
    0%,100%{filter:brightness(1)}
    50%{filter:brightness(1.25)}
}

/* üêº Panda r·ª•t l·∫°i khi ch·∫°m */
.shrink{
    animation:shrink .25s ease;
}
@keyframes shrink{
    50%{transform:scale(.7)}
}

/* ================= HEART BAY ================= */
.love-heart{
    position:fixed;
    pointer-events:none;
    animation:heartFly 1.5s ease-out forwards;
    z-index:3;
}

@keyframes heartFly{
    0%{opacity:1; transform:translate(0,0) scale(.7)}
    100%{
        opacity:0;
        transform:
            translate(var(--x), var(--y))
            scale(1.4);
    }
}

/* ================= BUBBLE TEXT ================= */
.love-text{
    position:fixed;
    font-size:20px;
    font-weight:800;
    white-space:nowrap;
    pointer-events:none;
    z-index:4;

    animation:loveFloat 1.4s ease-out forwards;

    -webkit-text-stroke:2px white;

    text-shadow:
        0 3px 0 rgba(255,255,255,0.9),
        0 6px 12px rgba(0,0,0,0.35),
        0 0 12px rgba(255,255,255,0.6);

    filter: drop-shadow(0 4px 10px rgba(0,0,0,0.25));
}

@keyframes loveFloat{
    0%{opacity:0; transform:translateY(0) scale(.8)}
    30%{opacity:1; transform:translateY(-15px) scale(1)}
    100%{opacity:0; transform:translateY(-70px) scale(1.1)}
}

/* ================= POPUP ================= */
.pink-box{
    position:relative;
    z-index:2;
    width:min(92vw,460px);
    padding:30px 26px 34px;
    background:linear-gradient(180deg,#fff9fc,#fff2f7);
    border-radius:26px;
    border:2px solid #f0b7d3;
    box-shadow:
        0 14px 36px rgba(0,0,0,.28),
        0 0 0 6px rgba(255,255,255,.45);
    text-align:center;
}

.heart{
    font-size:46px;
    margin-bottom:10px;
    animation:beat 2.2s infinite;
}

.text{
    font-size:22px;
    font-weight:600;
    line-height:1.45;
    color:#7a1f47;
    min-height:72px;
}

.cursor{
    margin-left:4px;
    color:#d63384;
    animation:blink 1.2s infinite;
}

.btn{
    margin-top:22px;
    padding:10px 48px;
    font-size:17px;
    background:linear-gradient(180deg,#f7c4de,#f2aecd);
    border:none;
    border-radius:999px;
    cursor:pointer;
    color:#4d0f2d;
}

.hidden{display:none}

@keyframes blink{50%{opacity:0}}
@keyframes beat{30%{transform:scale(1.1)}}

@media(max-width:480px){
    .text{font-size:20px}
    .love-text{
        font-size:16px;
        -webkit-text-stroke:1.5px white;
    }
}
</style>
</head>

<body>

<div id="popup1" class="pink-box">
    <div class="heart">üíó</div>
    <div id="text1" class="text"></div>
    <button class="btn" onclick="nextPopup()">ok</button>
</div>

<div id="popup2" class="pink-box hidden">
    <div class="heart">üíì</div>
    <div id="text2" class="text"></div>
    <button class="btn" onclick="closePopup()">ok</button>
</div>

<script>
/* ================= TEXT ================= */
const message1="B√© Keii ∆°ii, b√© Keii c√≥ bi·∫øt h√¥ngg??";
const message2="Em y√™u ch·ªã nhi·ªÅu l·∫Øm lu√¥n √°!";

function typeText(id,text,speed=65){
    const el=document.getElementById(id);
    el.innerHTML="";
    let i=0;
    const cursor=document.createElement("span");
    cursor.className="cursor";
    cursor.textContent="‚ô•";
    el.appendChild(cursor);

    const t=setInterval(()=>{
        cursor.remove();
        el.textContent+=text[i];
        el.appendChild(cursor);
        i++;
        if(i>=text.length) clearInterval(t);
    },speed);
}

/* ================= LOVE TEXT LIST ================= */
const loveTexts=[
"Em y√™u Ki·ªÅu","Em y√™u ch·ªã qu√≥ √≤","Em nh·ªõ Ki·ªÅu","Em nh·ªõ ch·ªã qu√≥ √≤",
"em y√™u b√© Keii","b√© Keii c·ªßa R√πa","y√™u Keii","Ki·ªÅu ∆°i, moa moaaa",
"c·ª•c c∆∞ng ∆°i, mu·ªën √¥m √¥m","√¥m √¥m","y√™u Ki·ªÅu","y√™u ch·ªã",
"nh·ªõ Ki·ªÅu","nh·ªõ ch·ªã","Umoaa umoazz","ch·ª•t ch·ª•ttt",
"hun hun hun","hun ch·ª•c c√°ii","h√≠t h√≠tt","c·ª•c c∆∞ng ngoan ngoan",
"em th∆∞∆°nggg Ki·ªÅuu","em mu·ªën √¥m √¥m","c·ª•c c∆∞ng ∆°i, mu·ªën hun hunn",
"c·ª•c c∆∞ng ∆°i, mu·ªën ch·ªã","c·ª•c c∆∞ng c·ª•c c∆∞ng em y√™u ch·ªã",
"c·ª•c c∆∞ng ∆°i, mu·ªën ƒÉn g√¨ d·∫°","c·ª•c c∆∞ng c√≥ nh·ªõ em h√¥ng d·∫°",
"c·ª•c c∆∞ng c√≥ y√™u em h√¥ng d·∫°","em y√™u ch·ªã nhi·ªÅu l·∫Øm lu√¥n √°",
"d·ª£ ∆°ii, em y√™u ch·ªã"
];

function rand(min,max){return Math.random()*(max-min)+min;}
function randInt(min,max){return Math.floor(rand(min,max));}

/* üí¨ Spawn Bubble Text */
function spawnLoveText(x,y){
    const t=document.createElement("div");
    t.className="love-text";
    t.textContent=loveTexts[randInt(0,loveTexts.length)];

    const candyColors=[
        "#ff4fa3","#ff6b9d","#ff7eb3",
        "#ff5c8a","#ff8fb1","#ff4d6d"
    ];
    t.style.color=candyColors[randInt(0,candyColors.length)];

    t.style.left=x+"px";
    t.style.top=y+"px";

    document.body.appendChild(t);
    setTimeout(()=>t.remove(),1400);
}

/* üíó Spawn Heart */
function spawnHeart(x,y){
    const h=document.createElement("div");
    h.className="love-heart";
    h.textContent="üíó";

    const size=randInt(16,32);
    h.style.fontSize=size+"px";

    h.style.setProperty("--x",rand(-80,80)+"px");
    h.style.setProperty("--y",rand(-120,-60)+"px");

    h.style.left=x+"px";
    h.style.top=y+"px";

    document.body.appendChild(h);
    setTimeout(()=>h.remove(),1500);
}

/* ================= STICKER ENGINE ================= */
function spawnSticker(src,isPanda){
    const img=new Image();
    img.src=src;
    img.className="sticker";

    if(isPanda) img.classList.add("panda");

    img.onload=()=>{
        img.style.width=isPanda?rand(50,60)+"px":rand(46,62)+"px";

        let x,y;
        do{
            x=rand(0,innerWidth-60);
            y=rand(0,innerHeight-60);
        }while(
            x>innerWidth/2-160 &&
            x<innerWidth/2+160 &&
            y>innerHeight/2-160 &&
            y<innerHeight/2+160
        );

        img.style.left=x+"px";
        img.style.top=y+"px";

        img.onclick=(e)=>{
            if(isPanda){
                img.classList.add("shrink");
                setTimeout(()=>img.classList.remove("shrink"),250);
            }

            spawnHeart(x,y);
            spawnLoveText(x,y);
        };

        document.body.appendChild(img);
        setTimeout(()=>img.remove(),6000);
    };
}

function spawnWave(){
    for(let i=0;i<randInt(6,9);i++){
        const id=randInt(1,48);
        spawnSticker(`stickers/${String(id).padStart(2,"0")}.png`,false);
    }

    for(let i=0;i<randInt(14,19);i++){
        const id=randInt(1,25);
        spawnSticker(`stickers panda/${String(id).padStart(2,"0")}.png`,true);
    }
}

/* ================= FLOW ================= */
window.onload=()=>{
    typeText("text1",message1);
    spawnWave();
    setInterval(spawnWave,7000);
};

function nextPopup(){
    popup1.classList.add("hidden");
    popup2.classList.remove("hidden");
    typeText("text2",message2);
}

function closePopup(){
    popup2.classList.add("hidden");
}
</script>

</body>
</html>
